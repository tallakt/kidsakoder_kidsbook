<section>
  <h1>
    Kidsbook
  </h1>
  <p>
    Laget av Tallak Tveide / <a href="http://twitter.com/tallakt">@tallakt</a> 
  </p>
</section>
<section>
  <p>
    Du kan hente opp denne presentasjonen på din egen maskin på adressen
  </p>
  <p>
    <a href="http://ruby.galak.se">http://ruby.galak.se</a>
  </p>
</section>
<section>
  <p>
    Dette er presentasjonene til et kursopplegg for ungdomsskole elever som
    går over fem kvelder med tre timer per gang.
  </p>
  <p>
    Besøk gjerne Facebook siden vår for spørsmål på <a href="https://www.facebook.com/groups/625690284169137/">https://www.facebook.com/groups/625690284169137/</a> 
  </p>
</section>
<section>
  <section>
    <h1>
      Forberedelser
    </h1>
    <p>
      Før første kursdag er det noen ting som du gjerne kan forsøke å løse på
      egenhånd for å spare tid.
    </p>
  </section>
  <section>
    <p>
      Du kan ta med din egen bærbare datamaskin. Om den kjører Windows, Mac OS X
      eller Linux betyr lite. 
    </p>
    <p>
      Om du vil så vil det være maskiner på kurset du kan låne.
    </p>
  </section>
  <section>
    <h2>
      Installere Ruby
    </h2>
    <p>
      Har du Mac OS X eller Linux er det sannsynlig at Ruby allerede er
      installert på maskinen din. Du kan sjekke dette med kommandoen:
    </p>
    <pre>$ ruby --version
ruby 2.2.0p0 (2014-12-25 revision 49005) [i686-linux]</pre>
    <p>
      Hint: Du skal ikke skrive $ tegnet, denne angir hvor du skal skrive
      dine kommandoer.
    </p>
  </section>
  <section>
    <p>
      Om du ikke har Ruby finner du det på <a href="http://ruby-lang.org">http://ruby-lang.org</a>. Du kan bruke en versjon som er 1.8.7 eller nyere.
    </p>
    <p>
      På Windows anbefaler vi å velge 'Add Ruby to Path' under installajonen.
    </p>
  </section>
  <section>
    <p>
      Om du har problemer med å installere Ruby får du hjelp på kurset.
    </p>
  </section>
  <section>
    <p>
      For å skrive programfiler bruker vi en tekst editor. Noen gratis
      anbefalinger: 
    </p>
    <ul>
      <li>
        <a href="http://atom.io/">Atom editor</a>
      </li>
      <li>
        <a href="http://macromates.com/">Textmate (for Mac OS X)</a>
      </li>
      <li>
        <a href="http://notepad-plus-plus.org/">Notepad++ (for Windows)</a>
      </li>
    </ul>
    <p>
      Vim og Emacs er to veldig avanserte editorer som brukes mye av
      profesjonelle. Hvis du allerede bruker en av disse er det ok.
    </p>
  </section>
  <section>
    <p>
      Ta helst med en USB minnebrikke på kurset slik at du kan ta en kopi av
      filene dine når du reiser hjem for dagen.
    </p>
    <p>
      Hvis du har (eller registrerer) en gratis konto på <a href="http://github.com">GitHub</a> 
       er det mulig å legge koden din der. Vi hjelper i såfall til om
      nødvendig.
    </p>
    <p>
      Et annet alternativ er å bruke Dropbox<a> href="http://www.dropbox.com/"
        | Dropbox</a>
    </p>
    <p>
      Vel møtt!
    </p>
  </section>
</section>
<section>
  <section>
    <h1>
      Dag 1 - Ruby
    </h1>
    <p>
      I dag går vi gjennom grunnleggende Ruby og lager noen enkle (og mindre enkle) script.
    </p>
  </section>
  <section>
    <h2>
      Hva er Ruby?
    </h2>
    <p>
      Ruby er et 20 år gammelt programmeringsspråk som ble laget av japaneren  Matz (Yukihiro Matsumoto).
    </p>
    <img alt="Matz" src="http://shareittips.com/images/Founder-Of-Ruby-Yukihiro-%E2%80%9CMatz%E2%80%9D.jpg">
    <p>
      Han ville lage et språk som gjorde programmering gøy
    </p>
  </section>
  <section>
    <p>
      Ruby er likevel et språk som kan brukes til mye. Twitter er det mest
      kjente nettstedet som har brukt Ruby. De brukte det til å lage hele
      hjemmesiden sin
    </p>
  </section>
  <section>
    <h2>
      Ruby script
    </h2>
    <p>
      Ruby tar en tekstfil og utfører kommandoer linje for linje.
    </p>
    <div class="fragment">
      <p>
        Hvis vi har en tekstfil med
      </p>
      <pre><code class="ruby" data-trim=""># i filen hello.rb
puts "Hello World!"</code></pre>
      <p>
        Når vi kjører den får vi
      </p>
      <pre><code class="ruby" data-trim="">$ ruby hello.rb
Hello World!</code></pre>
    </div>
  </section>
  <section>
    <h2>
      Hello Ruby
    </h2>
    <p>
      Tradisjonen i programmering er at det første programmet man lærer i ett
      nytt språk skal skrive ut teksten "Hello World"
    </p>
  </section>
  <section>
    <p>
      Vi skal lage et slikt program
    </p>
    <h3>
      Windows
    </h3>
    <p>
      Lag en mappe som heter<code> c:\min_ruby</code>
    </p>
    <h3>
      Mac OS X og Linux
    </h3>
    <p>
      Lag en mappe<code> min_ruby </code>i hjemmekatalogen din.
    </p>
  </section>
  <section>
    <div>
      <p>
        Åpne tekst editoren og skriv:
      </p>
      <pre><code class="ruby" data-trim="">puts "Hello World!"</code></pre>
      <p>
        Lagre filen i katalogen din med navnet<code> hello.rb</code>
      </p>
    </div>
  </section>
  <section>
    <p>
      Ruby script kjører vi vanligvis i et terminalvindu.
    </p>
    <h3>
      Windows
    </h3>
    <p>
      Trykk på start knappen, så `Run...` og skriver `cmd`. For å endre
      katalog og kjøre scriptet ditt skriver du
    </p>
    <pre><code>c:\Program Files&gt; cd c:\min_ruby
c:\min_ruby&gt; ruby hello.rb</code></pre>
    <h3>
      Mac OS X og Linux
    </h3>
    <p>
      Kjør `Terminal` og skriv:
    </p>
    <pre><code>$ cd ~/min_ruby
$ ruby hello.rb</code></pre>
  </section>
  <section>
    <h2>
      Variabler
    </h2>
    <p>
      Variable brukes til å lagre verdier
    </p>
  </section>
  <section>
    <pre><code class="ruby" data-trim="">a = 1
b = a + 2
puts b     # Skriver ut 3
b = 10     # her setter vi b på nytt
puts b     # Skriver ut 10</code></pre>
  </section>
  <section>
    <p>
      Variable må begynne med liten bokstav, og ikke inneholde spesielle tegn. Noen lovlige variabelnavn er:
    </p>
    <p>
      <code>a </code>
    </p>
    <p>
      <code>tallet </code>
    </p>
    <p>
      <code>svar5</code>
    </p>
    <p>
      <code>et_viktig_tall </code>
    </p>
    <p class="fragment">
      Det lønner seg å unngå norske bokstaver i variabelnavn
    </p>
  </section>
  <section>
    <p>
      Variable med STORE BOKSTAVER er konstanter i Ruby. Konstanter får man ikke endre etter at de først er satt
    </p>
    <pre><code class="ruby" data-trim="">MENINGEN_MED_LIVET_OG_ALT = 42</code></pre>
    <p>
      Konstanter kan ofte gjøre koden lettere å lese
    </p>
  </section>
  <section>
    <h2>
      Verdier 
    </h2>
    <p>
      Verdier kan ha forskjellige typer, de vanligste er:
    </p>
    <table>
      <tbody>
        <tr>
          <td>
            Fixnum
          </td>
          <td>
            Hele tall som 1 eller -100
          </td>
        </tr>
        <tr>
          <td>
            Float
          </td>
          <td>
            Desimaltall som 1.5 og 100.0
          </td>
        </tr>
        <tr>
          <td>
            String
          </td>
          <td>
            Tekster, f.eks. <code>"Ruby er topp!"</code>
          </td>
        </tr>
        <tr>
          <td>
            Symbol
          </td>
          <td>
            brukes som nøkler<code> :ruby</code>
          </td>
        </tr>
        <tr>
          <td>
            <code>true </code>og <code>false</code>
          </td>
          <td>
            angir sannhet
          </td>
        </tr>
        <tr>
          <td>
            <code>nil</code>
          </td>
          <td>
            mangel på verdi
          </td>
        </tr>
      </tbody>
    </table>
  </section>
  <section>
    <h2>
      Strenger
    </h2>
    <pre><code class="ruby" data-trim="">puts "Ruby"      # Skriver Ruby
puts 'Ruby'      # Skriver også ut Ruby
a = "Yukihiro"
b = "Matsumoto"
puts "#{a} #{b}" # Skriver Yukihiro Matsumoto</code></pre>
  </section>
  <section>
    <pre><code class="ruby" data-trim="">a = "Yukihiro"
b = "Matsumoto"
puts "#{a} #{b}"</code></pre>
    <p>
      På den siste linjen vises en fin måte å sette verdier sammen til en
      streng. Du kunne også gjort 
    </p>
    <pre><code class="ruby" data-trim="">a = "Yukihiro"
b = "Matsumoto"
puts a + " " + b # Skriver også Yukihiro Matsumoto</code></pre>
  </section>
  <section>
    <h2>
      Symboler
    </h2>
    <p>
      Symboler brukes mye i Ruby fordi de er så greie
    </p>
    <p class="fragment">
      Man kan tenkte at symboler er som strenger
    </p>
  </section>
  <section>
    <pre><code class="ruby" data-trim="">valg = :ruby
puts "Hei Java" if valg == :java
puts "Hei Ruby" if valg == :ruby</code></pre>
    <p>
      Koden over vil skrive ut `Hei Ruby`
    </p>
  </section>
  <section>
    <h2>
      Konvertere verdier
    </h2>
    <p>
      Bruker vi `+` må vi passe på at begge verdiene vi skal sette sammen passer i hop
    </p>
    <pre><code class="ruby" data-trim="">1 + "10"    # TypeError: String cant be coerced into Fixnum</code></pre>
  </section>
  <section>
    <p>
      Man kan gjøre en streng om til et heltall med `to_i`.
    </p>
    <pre><code class="ruby" data-trim="">1 + "10".to_i
 =&gt; 11</code></pre>
  </section>
  <section>
    <p>
      Eller motsatt, et heltall til en streng med `to_s`
    </p>
    <pre><code class="ruby" data-trim="">1.to_s + "10"       # to_s gjør til streng
 =&gt; "110"</code></pre>
  </section>
  <section>
    <p>
      `to_f` konverterer en streng til et desimaltall:
    </p>
    <pre><code class="ruby" data-trim="">1 + "10.5".to_f
 =&gt; 11.5</code></pre>
  </section>
  <section>
    <h2>
      Computeren vil snakke med deg!
    </h2>
    <p>
      `puts` og `gets` er en enkel måte å skrive til skjermen og spørre brukeren om ting
    </p>
    <pre class="fragment"><code class="ruby" data-trim="">puts "Skriv noe"
svar = gets
puts "Du skrev #{svar}"</code></pre>
    <p class="fragment">
      `puts` er mye brukt av profesjonelle kodere
    </p>
  </section>
  <section>
    <h2>
      IRB
    </h2>
    <p>
      IRB er et nyttig verktøy som følger med Ruby. Her kan du prøve ut Ruby kode og få resultatet umiddelbart. Du trenger ikke opprette en tekstfil.
    </p>
  </section>
  <section>
    <p>
      IRB er fin for eksperimentering!
    </p>
  </section>
  <section>
    <pre><code data-trim="">$ irb
irb(main):001:0&gt; r = "Ruby"
 =&gt; "Ruby"
irb(main):002:0&gt; r.upcase
 =&gt; "RUBY"</code></pre>
  </section>
  <section>
    <h2>
      Noen oppgaver
    </h2>
    <ul>
      <li>
        Lag et script som spør om navnet og hilser tilbake (Hva heter du? Matz. Hei Matz!)
      </li>
      <li>
        Lag et skript som spør om tre tall og regner ut gjennomsnittet
      </li>
    </ul>
  </section>
  <section>
    <h2>
      Metoder
    </h2>
    <p>
      Alle verdiene i Ruby har metoder. For eksempel har verdien "Ruby" en 
      metode `length` som angir hvor mange tegn den har.
    </p>
  </section>
  <section>
    <pre><code class="ruby" data-trim="">tekst = "Ruby"
tekst.length
 =&gt; 4
"Ruby".length
 =&gt; 4</code></pre>
  </section>
  <section>
    <p>
      Forskjellig type verdier har forskjellige metoder
    </p>
    <pre><code class="ruby" data-trim="">-100.abs
 =&gt; 100
"     Matz     ".strip
 =&gt; "Matz"
-100.strip
NoMethodError: undefined method `strip' for -100:Fixnum</code></pre>
  </section>
  <section>
    <p>
      Noen metoder vil trenge ekstra informasjon som parametre
    </p>
    <pre><code class="ruby" data-trim="">tall = 16
tall.div(5)    # Divisjon med hele tall
 =&gt; 3</code></pre>
    <div class="fragment">
      <p>
        I Ruby er det ikke nødvendig å ha parenteser rundt parametrene, dette 
        er også ok:
      </p>
      <pre><code class="ruby" data-trim="">tall.div 5
 =&gt; 3</code></pre>
    </div>
  </section>
  <section>
    <p>
      Flere parametre listes opp adskilt av komma
    </p>
    <pre><code class="ruby" data-trim="">tekst = "Ruby"
tekst.center(30, "_")
 =&gt; "_____________Ruby_____________"</code></pre>
  </section>
  <section>
    <h2>
      Betingelser
    </h2>
    <p>
      Vi bruker `if` til å velge om en kodeblokk skal utføres
    </p>
    <pre><code class="ruby" data-trim="">verdi = 1
if verdi &gt; 10
  puts "En er større enn ti? Her er noe galt"
end</code></pre>
  </section>
  <section>
    <p>
      Vi kan også legge til en `else` blokk der det trengs
    </p>
    <pre><code class="ruby" data-trim="">verdi = 1
if verdi &gt; 10
  puts "En er større enn ti? Her er noe galt"
else
  puts "En er ikke større en ti, som forventet"
end</code></pre>
  </section>
  <section>
    <img alt="@tenderlove" src="http://jc00ke.com/speaking/cascadia-ruby-2012-maglev/lib/assets/tenderlove.jpg">
  </section>
  <section>
    <h2>
      Gjentakelse
    </h2>
    <p>
      For å gjenta en oppgave kan vi bruke løkker
    </p>
    <pre><code class="ruby" data-trim="">10.times do |n|
  puts "Dette er linje #{n}"
end</code></pre>
  </section>
  <section>
    <p>
      For å gjenta en kodeblokk til noe blir sant bruker man `while`
    </p>
    <pre><code class="ruby" data-trim="">inntastet = 0
while inntastet != 5 do
  puts "Skriv et tall, 5 for å avslutte"
  inntastet = gets.to_i
end</code></pre>
  </section>
  <section>
    <h2>
      Oppgave: De ti navnene
    </h2>
    <p>
      Lag et program som skriver ut ti linjer. De første fem er fornavnet
      ditt, de siste fem er etternavnet.  
    </p>
  </section>
  <section>
    <h2>
      Oppgave: Gjett det hemmelige tallet
    </h2>
    <p>
      Skriv et program som lager et tilfeldig tall mellom 0 og 9. Spør brukeren 
      hvilket tall det er, helt til tallet er gjettet. Avslutt med en gratulasjon. 
    </p>
    <p>
      Tips: For å lage tilfeldige tall kan man bruke
    </p>
    <pre><code class="ruby" data-trim="">tilfeldig_tall = rand(0..9)</code></pre>
  </section>
</section>
<section>
  <section>
    <h1>
      Dag 2 - Mer Ruby
    </h1>
    <p>
      I dag skal vi kikke på mer avanserte datastrukturer i Ruby og lese og
      skrive til filer.  
    </p>
  </section>
  <section>
    <h2>
      Lister
    </h2>
    <pre><code class="ruby" data-trim="">liste = [1, 2, 3, 4]
liste.push(5)         # legg til på slutten
 =&gt; [1, 2, 3, 4, 5]
liste.pop             # hent siste element
 =&gt; 5
liste
 =&gt; [1, 2, 3, 4]
liste.shift           # hent første element
 =&gt; 1
liste
 =&gt; [2, 3, 4]
lang_liste = liste + [:a, :b, :c]
 =&gt; [2, 3, 4, :a, :b, :c]
en_tom_liste = []</code></pre>
  </section>
  <section>
    <p>
      Verdiene i en liste har en indeks som begynner på null. Indeksen kan brukes til å lese en eller fler verdier.
    </p>
    <pre><code class="ruby" data-trim="">liste = [1, 2, 3, 4]
den_forste = liste[0]
 =&gt; 1
de_tre_forste = liste[0..2]
 =&gt; [1, 2, 3]</code></pre>
  </section>
  <section>
    <h2>
      Each
    </h2>
    <p>
      En grei måte å gjøre noe med alle verdiene i en liste er å bruke `each` 
      metoden.
    </p>
  </section>
  <section>
    <pre><code class="ruby" data-trim="">noen_tall = [4, 6, 8, 10]
sum = 0

noen_tall.each do |tall|
  sum = sum + tall
end

# Når vi kommer hit er sum lik 28</code></pre>
  </section>
  <section>
    <h2>
      Oppgave: Vi sorterer tall
    </h2>
    <p>
      På neste side er det en kodesnutt som sorterer tall brukeren skriver
      inn. Kopier eller skriv av koden inn i en ruby fil som du kjører. Se om
      du kan finne ut hva hver linje gjør
    </p>
  </section>
  <section>
    <pre><code class="ruby" data-trim=""># nulltiling av variable
inntastet = nil
liste = []

# vi spør brukeren om tall, og legger de til listen vår
while inntastet != -1
  puts "Skriv et positivt heltall og avslutt med -1"
  inntastet = gets.to_i
  if inntastet &gt;= 0
    liste.push(inntastet)
  end
end</code><code class="ruby" data-trim=""># vi lager en sortert liste ved å ta ut den minste verdien
sortert = []
while liste.any?
  minste = liste.min
  liste.delete(minste)
  sortert.push(minste)
end

# skriv ut resultatet
sortert.each do |tall|
  puts tall
end</code></pre>
  </section>
  <section>
    <p>
      Ruby har sortering innebygd
    </p>
    <pre><code class="ruby" data-trim="">[2, 5, 6, 3, 6].sort
 =&gt; [2, 3, 5, 6, 6] </code></pre>
  </section>
  <section>
    <h2>
      Hash
    </h2>
    <p>
      I Ruby er en hash en tabell hvor man slår opp en verdi utfra en nøkkel
    </p>
  </section>
  <section>
    <p>
      Eksempler hvor man ville brukt en hash er:
    </p>
    <ul>
      <li>
        en telefonkatalog
      </li>
      <li>
        en bok med tittel, forfatter og antall sider
      </li>
    </ul>
    <p class="fragment">
      <br>En hash kan minne veldig om en vegg med bankbokser. En nøkkel gir
      adgang til innholdet i den ene boksen.
    </p>
  </section>
  <section>
    <p>
      Eksempel 1: Telefonkatalogen. Nøkkelen i hashen vår er navnet, verdien er
      telefonnummeret
    </p>
    <pre><code class="ruby" data-trim="">katalog = {}     # start med en tom hash
katalog["Matz"] = "555-555-5555"
katalog["Tenderlove"] = "888-888-8888"</code></pre>
    <div class="fragment">
      <p>
        Når vi senere skal slå opp et nummer gjør vi:
      </p>
      <pre><code class="ruby" data-trim="">katalog["Matz"]
 =&gt; "555-555-5555"
katalog["Yukihiro Matsumoto"]  # finnes ikke
 =&gt; nil</code></pre>
    </div>
  </section>
  <section>
    <p>
      I en hash er har hver nøkkel bare en verdi
    </p>
    <pre><code class="ruby" data-trim="">katalog = {} 
katalog["Matz"] = "555-555-5555"
katalog["Matz"] = "666-666-6666" # denne overskriver 555-555-5555
katalog["Matz"]
 =&gt; "666-666-6666"</code></pre>
  </section>
  <section>
    <p>
      Eksempel 2: Lagre bok informasjon
    </p>
    <pre><code class="ruby" data-trim="">bok = {}     # start med en tom hash
bok[:tittel] = "Ready Player One"
bok[:forfatter] = "Ernest Cline"
bok[:sider] = 384</code></pre>
    <p>
      Og så kan vi bruke bok variabelen slik
    </p>
    <pre><code class="ruby" data-trim="">t = bok[:tittel]
f = bok[:forfatter]
s = bok[:sider]
beskrivelse =  "#{t} av #{f}, #{s} sider"
 =&gt; "Ready Player One av Ernest Cline, 384 sider"</code></pre>
  </section>
  <section>
    <p>
      Legg merke til at telefonkatalogen har mange nøkler, mens boken vår har
      noen få faste nøkler 
    </p>
  </section>
  <section>
    <h2>
      Oppgave
    </h2>
    <p>
      Lag en liste med fem navn. Gi alle personene et terningkast 1 til 6.
      Skriv ut hvem som fikk det høyeste tallet. Vi skal lagre resultatene i
      en hash med navn som nøkkel og terningkast som verdi.  
    </p>
  </section>
  <section>
    <p>
      Siden hash blir mye brukt i Ruby, finnes noen enklere måter å skrive de inn på
    </p>
    <pre><code class="ruby" data-trim="">bok = {
  :tittel =&gt; "Ready Player One",
  :forfatter =&gt; "Ernest Cline",
  :sideantall =&gt; 384
}</code></pre>
  </section>
  <section>
    <pre><code class="ruby" data-trim="">bok = {
  tittel: "Ready Player One",
  forfatter: "Ernest Cline",
  sideantall: 384
}</code></pre>
  </section>
  <section>
    <p>
      Det er fullt mulig å kombinere en liste og hasher
    </p>
    <pre><code class="ruby" data-trim="">liste = []
liste.push({twitter: "matz", land: "Japan"})
liste.push({twitter: "tenderlove", land: "USA"})
liste
 =&gt; [
      {:twitter=&gt;"matz", :land=&gt;"Japan"}, 
      {:twitter=&gt;"tenderlove", :land=&gt;"USA"}
    ] 
liste[1][:land]
 =&gt; "USA"</code></pre>
  </section>
  <section>
    <p>
      Lister med hasher er ganske kompleks programmering. Det er ok hvis du
      ikke skjønner det med en gang.
    </p>
  </section>
  <section>
    <h2>
      Filer
    </h2>
    <pre><code class="ruby" data-trim=""># Åpne en fil for skriving
File.open("min_fil.txt", "w") do |fil|
  fil.puts "A"
  fil.puts "B"
end

# Åpne samme fil for å lese tilbake
File.open("min_fil.txt") do |fil|
  while not fil.eof?               # `eof?` angir end-of-file
    puts fil.gets
  end
end</code></pre>
    <div class="fragment">
      <p>
        Slik ser det omtrent ut hvis vi kjører scriptet
      </p>
      <pre>$ ruby lese_og_skrive_til_fil.rb
A
B</pre>
    </div>
  </section>
  <section>
    <p>
      Filer er den måten en datamaskin kan lagre data mellom hver gang den
      startes på nytt. Filen legger seg på datamaskinens harddisk. Slike
      filer kan man åpne og lese i teksteditoren din.
    </p>
  </section>
  <section>
    <h2>
      Oppgave: lagre data man skriver inn
    </h2>
    <p>
      a) Lag et script som henter inn tre tall med `gets` og skriver dem
      ut til en fil
    </p>
    <p>
      b) Lag et script for å lese tallene i filen og skriv ut summen
    </p>
    <p>
      c) Hent filen opp i en tekst editor
    </p>
  </section>
  <section>
    <p>
      En tekstfil inneholder alle bokstaver adskilt av linjeskift tegnet.
      Dette tegnet vises som strengen<code> "\n"</code>
    </p>
    <p>
      Når vi leser linjer i en fil får vi tilbake disse tegnene også. Det
      er vår jobb å fjerne dem fra strengene
    </p>
  </section>
  <section>
    <pre><code class="ruby" data-trim="">innhold = File.read("min_fil.txt") # leser alt i et jafs
linjer = innhold.each_line         # splitter opp linjene
forste_linje = linjer.first
 =&gt; "A\n"
forste_linje.strip
 =&gt; "A"</code></pre>
  </section>
  <section>
    <p>
      Noen ganger må vi ha en plan B om filen ikke finnes
    </p>
    <pre><code class="ruby" data-trim="">filnavn = "min_fil.txt"
verdi = nil
if File.exist?(filnavn)
  verdi = File.read(filnavn)
else
  verdi = "HELT TOMT"
end</code></pre>
  </section>
  <section>
    <p>
      På de neste sidene finner du noen oppgaver. Her kan du velge noe som
      passer
    </p>
  </section>
  <section>
    <h2>
      Oppgave: Stein Saks Papir
    </h2>
    <p>
      Les et tall fra brukeren. Stein saks papir er som for listen under.
      Datamaskinen velger så et tilfeldig valg. Angi hvem som vant, eller
      spill en ny runde hvis det ble uavgjort. 
    </p>
    <table>
      <tbody>
        <tr>
          <td>
            1
          </td>
          <td>
            Stein
          </td>
        </tr>
        <tr>
          <td>
            2
          </td>
          <td>
            Saks
          </td>
        </tr>
        <tr>
          <td>
            3
          </td>
          <td>
            Papir
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      Tips:
    </p>
    <pre><code class="ruby" data-trim="">tilfeldig_tall = rand(1..3)

if tilfeldig_tall == 1 then
  # kode her
end</code></pre>
  </section>
  <section>
    <h2>
      Oppgave: Yatzy - Har vi fått hus?
    </h2>
    <p>
      Når du starter programmet kaster vi fem terninger. Sjekk om man har
      fått hus. Tips: legg terningkastene i en liste og bruk `liste.sort`. Vi
      skal da enten ha 3+2 like eller 2+3 like.
    </p>
  </section>
  <section>
    <h2>
      Oppgave: To terninger sammen
    </h2>
    <p>
      La datamaskinen kaste to terninger hundre ganger. Pluss sammen antall
      øyne for hvert kast. Lagre summen i en hash med sum som nøkkel og
      antall kast som verdi. Skriv ut resultatene. Tips: 
    </p>
    <pre><code class="ruby" data-trim="">tellere = {}

# Initialiser hash med null
(2..12).each do |sum|
  tellere[sum] = 0
end

# kast to terninger og øk teller
sum = rand(1..6) + rand(1..6)
tellere[sum] = tellere[sum] + 1</code></pre>
  </section>
  <section>
    <h2>
      Oppgave: Sinus
    </h2>
    <p>
      Lag en evig løkke som skriver ut "Matz" som en sinus. Tips: bruk elementer fra koden nedenfor.
    </p>
    <pre><code class="ruby" data-trim="">s = Math.sin(0.3)   # Sinus til et tall

desimaltall = 55.5
heltall = desimaltall.to_i # runder av til et heltall

innrykk = 10 * " "
puts "#{innrykk}Matz"

# evig løkke
loop do
  # kode her
end</code></pre>
  </section>
  <section>
    <h2>
      Oppgave: Caesar Cipher (vanskelig)
    </h2>
    <p>
      Dette er en gammel form for kryptering hvor alle bokstavene blir
      forskjøvet. Man angir nøkkelen, og hver bokstav forskyves så mange
      bokstaver videre. Hvis nøkkelen er 2 vil "A" byttes ut med "C", "B"
      blir til "D", "Y" blir til "A" etc. For å gjøre det enklere støttes
      bare A-Z, tilsammen 26 bokstaver. Dekryptering gjøres ved å kjøre ny
      kryptering med nøkkel 26 - (forrige nøkkel). (Hjelpekode på neste side)
      Programflyt:
    </p>
    <ul>
      <li>
        Spør om nøkkelen (tall fra 1 til 25)
      </li>
      <li>
        Spør om teksten som skal krypteres
      </li>
      <li>
        Skriv ut den krypterte teksten
      </li>
    </ul>
  </section>
  <section>
    <pre><code class="ruby" data-trim="">"MATZ".chars
 =&gt; ["M", "A", "T", "Z"] 
["M", "A", "T", "Z"].join
 =&gt; "MATZ"
"A".next
 =&gt; "B"</code></pre>
  </section>
  <section>
    <h2>
      Oppgave: Anagrammer
    </h2>
    <p>
      På    <a href="http://www2.scrabbleforbundet.no/wp-content/uploads/2012/07/NSF-ordlisten.zip">denne linken</a> fra Norsk Scrabble Forbund finnes en tekstfil med norske ord. Filen ser omtrent lik ut:
    </p>
    <pre>ACTINIUMENE subst
ACTINIUMET subst
ACTION subs</pre>
    <p>
      Lag et program som spør om et ord og så finner anagrammer for det
      (ord med samme bokstaver i en annen rekkefølge). Tips på neste side.
    </p>
  </section>
  <section>
    <pre><code class="ruby" data-trim="">"ACTINIUMENE subst".split
 =&gt; ["ACTINIUMENE", "subst"] </code><code class="ruby" data-trim=""># BEINET og BITENE er anagrammer
"BEINET".chars.sort.join
 =&gt; "BEEINT"
"BITENE".chars.sort.join
 =&gt; "BEEINT"</code><code class="ruby" data-trim=""># pass på at det brukeren skriver blir likt med bokstavene i ordlisten
# Fjern blanke tegn og gjør til store bokstaver
inntastet = gets.strip.upcase</code></pre>
  </section>
  <section>
    <h2>
      Oppgave: Kriminalitet (vanskelig)
    </h2>
    <p>
      På hjemmesiden til The District of Columbia finnes en oversikt over <a href="http://data.octo.dc.gov/feeds/crime_incidents/archive/crime_incidents_2013_CSV.zip">alle lovbrudd som er begått i 2013</a>. Lag en oversikt over hvor mange lovbrudd som er gjort av hver type
      (fjerde verdi) og skriv det ut som en tabell. Bonusoppgave: Finn ut
      hvilken type kriminalitet som skjedde hyppigst for hver klokketime
    </p>
    <pre><code class="ruby" data-trim="">"A,B,C,D,E".split(",")
 =&gt; ["A", "B", "C", "D", "E"] </code><code class="ruby" data-trim="">dato_tid = DateTime.parse("1/2/2013 3:00:00 PM")
dato_tid.hour
 =&gt; 15</code></pre>
  </section>
  <section>
    <h2>
      Oppgave: Mastermind (supervanskelig)
    </h2>
    <p>
      Implementer spillet mastermind. Datamaskinen sitter med den hemmelige
      løsningen. Tips: Når brukeren skal gi svar kan han ha en bokstav per
      farge, og skrive fire bokstaver. Programmet svarer så med hvor mange
      som var riktig farge på riktig sted, og hvor mange som var riktig farge på
      feil sted.
    </p>
    <table>
      <tbody>
        <tr>
          <td>
            G
          </td>
          <td>
            R
          </td>
          <td>
            U
          </td>
          <td>
            L
          </td>
          <td>
            H
          </td>
          <td>
            S
          </td>
        </tr>
        <tr>
          <td>
            Grønn
          </td>
          <td>
            Rød
          </td>
          <td>
            Gul
          </td>
          <td>
            Lilla
          </td>
          <td>
            Hvit
          </td>
          <td>
            Sort
          </td>
        </tr>
      </tbody>
    </table>
    <pre><code class="ruby" data-trim=""># lage datamaskinens hemmelige løsning
FARGER = ["G", "R", "U", "L", "H", "S"]
losning = []
4.times do
  indeks = random(0..5)
  losning.push(FARGER[indeks])
end</code></pre>
    <p>
      <a href="http://en.wikipedia.org/wiki/Mastermind_%28board_game%29" target="_top">http://en.wikipedia.org/wiki/Mastermind_(board_game)</a>
    </p>
  </section>
</section>
<section>
  <section>
    <h1>
      Dag 3 - HTML og Web
    </h1>
    <p>
      Vi kikker litt på HTML og på hvordan en hjemmeside fungerer
    </p>
  </section>
  <section>
    <h2>
      Kidsbook...
    </h2>
    <p>
      I løpet av de siste tre dagene skal vi bygge en hjemmeside med Ruby.
      Når vi er ferdige har vi bygd en veldig enkel Facebook lignende side
      hvor man kan legge inn innlegg.
    </p>
  </section>
  <section>
    <h2>
      HTML
    </h2>
    <p>
      HTML er det språket som man beskriver en web side med.
    </p>
    <p class="fragment">
      HTML er ikke et programmeringsspråk, men en måte å beskrive en web side
      på
    </p>
  </section>
  <section>
    <pre><code class="html" data-trim="">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Hallo!&lt;/title&gt;
    &lt;meta charset="UTF-8"&gt; 
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;Hallo verden!&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
    <p class="fragment">
      Prøv å skrive inn dette i en tekstfil som du kaller `hello.html`. Åpne
      filen i nettleseren din (Firefox, Safari, Chrome, Internet Explorer).
    </p>
  </section>
  <section>
    <p>
      I HTML har vi `tagger` som åpner og som lukker. De opptrer parvis slik
      som dette:
    </p>
    <p>
      <code class="html" data-trim="">&lt;div&gt;   &lt;/div&gt;</code>
    </p>
    <p>
      Hva slags tag vi lager bestemmer hva som blir skrevet i browseren.
      `div` taggen gjør ingenting annet enn å gruppere andre tagger og tekst.
    </p>
  </section>
  <section>
    <p>
      HTML bryr seg ikke om mellomrom og linjeskift. Dette
    </p>
    <pre><code class="html" data-trim=""><p>P taggen inneholder vanligvis et avsnitt med tekst</p></code></pre>
    <p>
      er likt med dette:
    </p>
    <pre><code class="html" data-trim=""><p>
  P taggen inneholder 
  vanligvis       et avsnitt med 
  tekst
</p></code></pre>
  </section>
  <section>
    <p>
      En HTML fil deles opp opp i `head` og `body`. Body inneholder alt som
      blir vist på siden. Head inneholder tittelen som vises øverst i
      nettleseren, og spesielle tagger.
    </p>
    <p>
      Tabellen på neste side viser noen vanlige tagger
    </p>
  </section>
  <section>
    <table>
      <tbody>
        <tr>
          <td>
            <em>heading 1</em>
          </td>
          <td>
            <code>&lt;h1&gt;</code>
          </td>
          <td>
            brukes til overskrifter
          </td>
        </tr>
        <tr>
          <td>
            <em>heading 2</em>
          </td>
          <td>
            <code>&lt;h2&gt;</code>
          </td>
          <td>
            brukes til overskrifter
          </td>
        </tr>
        <tr>
          <td>
            <em>heading 3</em>
          </td>
          <td>
            <code>&lt;h3&gt;</code>
          </td>
          <td>
            brukes til overskrifter
          </td>
        </tr>
        <tr>
          <td>
            <em>paragraph</em>
          </td>
          <td>
            <code> &lt;p&gt;</code>
          </td>
          <td>
            inneholder et avsnitt med tekst
          </td>
        </tr>
        <tr>
          <td>
            <em>division</em>
          </td>
          <td>
            <code>&lt;div&gt;</code>
          </td>
          <td>
            gruppering
          </td>
        </tr>
        <tr>
          <td>
            <em>anchor</em>
          </td>
          <td>
            <code>&lt;a href="..."&gt;</code>
          </td>
          <td>
            en lenke til noe annet
          </td>
        </tr>
        <tr>
          <td>
            <em>image</em>
          </td>
          <td>
            <code>&lt;img src="..."&gt;</code>
          </td>
          <td>
            bilder
          </td>
        </tr>
      </tbody>
    </table>
  </section>
  <section>
    <h2>
      Bilder
    </h2>
    <p>
      Du kan sette inn et bilde fra en komplett adresse (URL) slik
    </p>
    <pre><code class="html" data-trim="">&lt;img src="http://goo.gl/TZjd4Q"&gt;&lt;/img&gt;</code></pre>
    <p>
      eller du kan hente bildet fra samme sted
    </p>
    <pre><code class="html" data-trim="">&lt;img src="kidsbook_logo.png"&gt;&lt;/img&gt;</code></pre>
    <p>
      HTML filen og bildet må ligge i samme katalog
    </p>
  </section>
  <section>
    <h2>
      Hyperlenker
    </h2>
    <p>
      Lenker til komplette adresser lages slik
    </p>
    <pre><code class="html" data-trim="">&lt;a href="http://www.duckduckgo.com"&gt;trykk her for å søke&lt;/a&gt;</code></pre>
    <p>
      eller du kan hoppe til en annen side fra fra samme sted
    </p>
    <pre><code class="html" data-trim="">&lt;a href="andre.html"&gt;her er den andre siden min&lt;/a&gt;</code></pre>
  </section>
  <section>
    <h2>
      Oppgave: Lag et utkast til din Kidsbook
    </h2>
    <p>
      Lag en side som skal bli Kidsbook. Siden skal ha:
    </p>
    <ul>
      <li>
        tittelen skal være `Kidsbook`
      </li>
      <li>
        en overskrift, `Siste innlegg`
      </li>
      <li>
        fire innlegg med en tekst du bestemmer
      </li>
      <li>
        hvert innlegg skal ha navnet på avsender
      </li>
      <li>
        <a href="http://goo.gl/TZjd4Q">Kidsbook logoen </a>lagret i samme katalog som HTML filen
      </li>
      <li>
        øverst på siden en lenke til `login` siden som vi lager senere
      </li>
    </ul>
    <p>
      <br>Vent lengst mulig med å kikke på <a href="http://github.com/tallakt/kidsakoder_kidsbook/tree/master/kode/dag_3/kidsbook_1.html">løsningsforslaget</a>
    </p>
  </section>
  <section>
    <p></p>
    <h2>
      CSS
    </h2>
    <p>
      Web siden vi laget ser litt kjedelig ut. Mens teksten på en web side er
      bestemt av HTML kodene, er utseendet bestemt av CSS filen
    </p>
  </section>
  <section>
    <pre><code class="css" data-trim="">body {
  background-color: powderblue;
}

.innlegg-tekst {
  margin-top: 50px;
}

.avsender {
  color: steelblue;
}</code></pre>
    <p class="fragment">
      Vi kommer ikke til å gå så mye inn på CSS her, så vi skriver av denne
      teksten og lagrer som `kidsbook.css`
    </p>
  </section>
  <section>
    <p>
      Neste steg er å koble HTML filen sammen med CSS filen. Det ser omtrent sånn ut
    </p>
    <pre><code class="html" data-trim="">&lt;head&gt;
  &lt;title&gt;Kidsbook&lt;/title&gt;
  &lt;link rel="stylesheet" type="text/css" href="kidsbook.css"&gt;
&lt;/head&gt;</code></pre>
  </section>
  <section>
    <p>
      For at valgene i CSS filen skal tre i kraft må de matche med tagger i HTML filen. Stilen
    </p>
    <pre><code class="css" data-trim="">.avsender {
  color: steelblue;
}</code></pre>
    <p>
      vil matche med denne HTML taggen:
    </p>
    <pre><code class="html" data-trim="">&lt;p class="avsender"&gt;Hilsen Doffen&lt;/p&gt;</code></pre>
    <p>
      Resultatet vil være at avsnittet blir mørkeblå, som fargekoden
      steelblue angir. Farger er beskrevet  <a href="http://sixrevisions.com/css/css-colors/">her</a> 
    </p>
  </section>
  <section>
    <h2>
      Oppgave: vi legger til litt stil
    </h2>
    <p>
      For siden vi laget først skal vi bruke CSS filen. Gjør slik av både
      innlegg og avsendere er påvirket av CSS stilene.  <a href="http://github.com/tallakt/kidsakoder_kidsbook/tree/master/kode/dag_3/kidsbook_2.html">Løsningsforslag</a>.
    </p>
  </section>
  <section>
    <h2>
      Påloggingsskjema
    </h2>
    <p>
      Vi skal lage en HTML fil nummer to hvor man får mulighet til å logge
      seg inn.  
    </p>
    <p>
      Vi gjør det veldig enkelt med en boks hvor man skiver inn navnet sitt,
      og en knapp for å bekrefte
    </p>
  </section>
  <section>
    <p>
      Her er noen tagger vi kan bruke
    </p>
    <table>
      <tbody>
        <tr>
          <td>
            <code>&lt;form&gt;</code>
          </td>
          <td>
            omslutter alle elementer i ett skjema
          </td>
        </tr>
        <tr>
          <td>
            <code>&lt;textarea&gt;</code>
          </td>
          <td>
            en stor boks for tekst
          </td>
        </tr>
        <tr>
          <td>
            <code>&lt;input type="text"&gt;</code>
          </td>
          <td>
            en liten boks for tekst
          </td>
        </tr>
        <tr>
          <td>
            <code>&lt;input type="submit"&gt;</code>
          </td>
          <td>
            knappen for å sende inn skjemaet
          </td>
        </tr>
      </tbody>
    </table>
  </section>
  <section>
    <p>
      Et enkelt skjema for innlogging ser da omtrent sånn ut
    </p>
    <pre><code class="html" data-trim="">&lt;form method="POST" action="/behandle-login"&gt;
  &lt;p&gt;
    &lt;input type="text" name="avsender"&gt;&lt;/input&gt;
  &lt;/p&gt;

  &lt;p&gt;
   &lt;input type="submit" value="Logg inn" /&gt;
  &lt;/p&gt;
&lt;/form&gt;</code></pre>
  </section>
  <section>
    <pre><code class="html" data-trim="">&lt;form method="POST" action="/behandle-login"&gt;
  &lt;p&gt;
    &lt;input type="text" name="avsender"&gt;&lt;/input&gt;
  &lt;/p&gt;

  &lt;p&gt;
   &lt;input type="submit" value="Logg inn" /&gt;
  &lt;/p&gt;
&lt;/form&gt;</code></pre>
    <p>
      I dette skjemaet oppgir vi at aksjonen når vi trykker på knappen skal
      være `behandle-login`. Tenk at det er som
    </p>
    <pre><code class="html" data-trim="">&lt;a href="/behandle-login"&gt;</code></pre>
    <p>
      men som gjelder for skjemaer
    </p>
  </section>
  <section>
    <pre><code class="html" data-trim="">&lt;form method="POST" action="/behandle-login"&gt;
  &lt;p&gt;
    &lt;input type="text" name="avsender"&gt;&lt;/input&gt;
  &lt;/p&gt;

  &lt;p&gt;
   &lt;input type="submit" value="Logg inn" /&gt;
  &lt;/p&gt;
&lt;/form&gt;</code></pre>
    <p>
      Navnet `avsender` trenger vi når vi senere mottar dataene fra skjemaet
    </p>
  </section>
  <section>
    <h2>
      Oppgave: innloggingssiden
    </h2>
    <p>
      Lag en html fil for pålogging. Sjekk at lenken fra hovedsiden fungerer. <a href="http://github.com/tallakt/kidsakoder_kidsbook/tree/master/kode/dag_3/login.html">Løsningsforslag her</a>.
    </p>
  </section>
  <section>
    <h2>
      Web serveren
    </h2>
    <p>
      Filene som ligger på din datamaskin vil ikke være tilgjengelige for
      andre maskiner. Vi trenger en web server for å gjøre dette
    </p>
  </section>
  <section>
    <p>
      Vi skal bruke Sinatra som web server. Sinatra er et system som brukes
      av mange profesjonelle kodere.
    </p>
    <p>
      Før vi kan bruke Sinatra skal det installeres. Åpne et kommandovindu og skriv:
    </p>
    <pre><code class="sh" data-trim="">$ gem install sinatra -v 1.3</code></pre>
    <p>
      PS: $ tegnet skal ikke skrives.
    </p>
  </section>
  <section>
    <p>
      Det neste vi skal gjøre er å lage følgende mappestruktur:
    </p>
    <pre>├── kidsbook.rb
├── public
│   ├── kidsbook.html
│   ├── login.html
│   ├── kidsbook.css
│   └── kidsbook_logo.png
└── views
    └── (foreløpig tomt)</pre>
  </section>
  <section>
    <p>
      Filen `kidsbook.rb` skal være hovedfilen vår. Vi oppretter den med innholdet:
    </p>
    <pre><code class="ruby" data-trim="">require 'sinatra'</code></pre>
    <p>
      Hvis du nå kjører scriptet starter web serven. Du kan koble til siden din på adressen <a href="http://localhost:4567/kidsbook.html">http://localhost:4567/kidsbook.html</a>
    </p>
  </section>
  <section>
    <p>
      <a href="http://localhost:4567/kidsbook.html">http://localhost:4567/kidsbook.html</a>
    </p>
    <p>
      Vi sier her at vi kjører mot vår egen maskin på port 4567. Når vi
      erstatter `localhost` med din ip adresse kan man lese siden fra en
      annen maskin.
    </p>
  </section>
  <section>
    <h2>
      Dynamiske web sider
    </h2>
    <p>
      Sinatra serveren kan gjøre mer enn å gi ut filer fra disken. La oss
      lage en side med tilfeldige tall.
    </p>
  </section>
  <section>
    <p>
      Modifiser `kidsbook.rb` filen slik, og restart serveren. Du må
      trykke Ctrl+C for å avslutte den som allerede kjører.
    </p>
    <pre><code class="ruby" data-trim="">require 'sinatra'

get '/tilfeldig' do
  tall = rand(0..9999)
  tall.to_s             # vi må alltid gi tilbake en streng
end</code></pre>
    <p>
      Se hva som skjer når du går inn på <a href="http://localhost:4567/tilfeldig">http://localhost:4567/tilfeldig</a>
    </p>
  </section>
  <section>
    <h2>
      Oppgave: Adressekorter
    </h2>
    <p>
      `bit.ly` er et eksempel på en web side som lager en kort adresse som
      videresender deg til en annen side med en lengre adresse. Lag en egen
      slik web side. For å sende videre til en annen adresse bruk koden:
    </p>
    <pre><code class="ruby" data-trim="">require 'sinatra'

get '/a' do
  redirect to("http://www.google.com/")
end</code></pre>
  </section>
  <section>
    <h2>
      Layout
    </h2>
    <p>
      Da vi laget en side for startsiden og en for innlogging la du kanskje
      merke til at det var en del av HTML kodene som var like (dvs alt untatt
      hoveddelen). Vi skal nå fikse opp i dette.  
    </p>
  </section>
  <section>
    <p>
      Første steg skal være å flytte 
    </p>
    <p>
      <code>public/index.html</code> 
    </p>
    <p>
      til
    </p>
    <p>
      <code>views/index.erb</code> 
    </p>
  </section>
  <section>
    <p>
      Neste steg er å legge til følgende kode i  <code>kidsakoder.rb</code> 
    </p>
    <pre><code class="ruby" data-trim="">get '/' do
  erb :index
end</code></pre>
    <p>
      Det vi nå sier er at sinatra skal gi ut filen index.erb dynamisk istedet for å gi ut en statisk fil fra disken
    </p>
    <p>
      Adressen '/' angir den siden man kommer til når adresselinjen kuninneholder maskinnavn og port.
    </p>
  </section>
  <section>
    <p>
      Så kopierer vi views/index.erb til views/layout.erb, og sletter detmidterste som ikke er felles. Det skal se omtrent slik ut: 
    </p>
    <pre><code class="html" data-trim="">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Kidsbook&lt;/title&gt;
    &lt;link rel="stylesheet" type="text/css" href="kidsbook.css"&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;img src="kidsbook_logo.png"&gt;&lt;/img&gt;
    &lt;%= yield %&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
    <p>
      Vi erstattet delen i midten med `yield`
    </p>
  </section>
  <section>
    <p>
      Til slutt gjør vi motsatt for filen views/index.erb, som skal se slikut
    </p>
    <pre><code class="html" data-trim="">
Trykk <a href="/login">her</a> for å logge inn.


<p class="innlegg-tekst">
  Dette skal bli et innlegg
</p>
<p class="avsender">
  Hilsen: Legolas
</p></code></pre>
  </section>
  <section>
    <h2>
      Oppgave: Layout
    </h2>
    <p>
      Lag et layout for din indeks og innloggingssside.
    </p>
  </section>
</section>
<section>
  <section>
    <h1>
      Dag 4 - Webserveren
    </h1>
  </section>
  <section>
    <a href="http://mislav.uniqpath.com/poignant-guide/"><img alt="Why's Ruby Book" src="http://www.rubyinside.com/wp-content/uploads/2011/03/why1.png"></a>
  </section>
  <section>
    <h1>
      Tilgang fra andre maskiner
    </h1>
    <p>
      Sinatra starter vanlig utviklingsmodus med begrenset tilgang. For å
      åpne opp for tilgang fra andre maskiner, kan vi legge til følgende kode
      i kidsbook.rb: 
    </p>
    <pre><code class="ruby" data-trim=""># i filen kidsbook.rb
require 'sinatra'
set(:bind, "0.0.0.0")
...</code></pre>
  </section>
  <section>
    <p>
      Hver gang vi endrer på koden i kidsbook.rb, trenger vi å restarte web servern vår.
    </p>
    <p class="fragment">
      Endringer i filer i views katalogen oppdateres automatisk
    </p>
  </section>
  <section>
    <h1>
      Login
    </h1>
    <p>
      Vi skal implementere en enklest mulig påloggingsfunksjon.
    </p>
  </section>
  <section>
    <p>
      Før vi går videre, skal alle ha kommet så langt:
    </p>
    <ul>
      <li>
        alle .html filene har fått navn .erb og blitt flyttet til views
      </li>
      <li>
        alle .erb filene skal bruke layout.erb
      </li>
      <li>
        en side for index og en for login
      </li>
      <li>
        en linje 'get' for hver av de to sidene i kidsbook.rb
      </li>
    </ul>
  </section>
  <section>
    <p>
      Pålogging som vi skal lage er veldig enkel. Det holder å
    </p>
    <ul>
      <li>
        å skrive inn navnet
      </li>
      <li>
        og så trykke på ok
      </li>
    </ul>
    <p>
      Alle får tilgang.
    </p>
  </section>
  <section>
    <p>
      Tidligere prøvde vi å logge inn med html filen fra disk. Da fikk vi
      trøbbel når vi trykket på knappen.  
    </p>
    <p class="fragment">
      Nå kan vi la Sinatra håndtere dette
    </p>
  </section>
  <section>
    <p>
      Legg til følgende kode nederst i kidsbook.rb
    </p>
    <pre><code class="ruby" data-trim="">post '/behandle-login' do
  p params            # skriv ut skjema data
  redirect to("/")    # omdiriger til startsiden
end</code></pre>
  </section>
  <section>
    <p>
      Prøv å logg inn nå og se hva som kommer ut i terminalvinuet.
    </p>
  </section>
  <section>
    <img src="http://www.saetre.no/var/ezflow_site/storage/images/selskaper/orkla-brands-nordic/saetre/produkter/start/start/2575334-1-nor-NO/Start_small.gif">
    <p>
      Vi har nå en måte å få tak i navnet til brukeren vår. For å lagre dette
      skal vi bruke en kjeks (cookie).
    </p>
    <p class="fragment">
      Kjeksen er en liten datapakke som følger brukerens trafikk frem og tilbake
    </p>
  </section>
  <section>
    <p>
      Når vi bruker kjeks lagres ingen informasjon i sinatra
    </p>
  </section>
  <section>
    <p>
      Siden kjeksen blir sendt frem og tilbake skal vi passe på at den ikke
      inneholder store datamengder.
    </p>
    <p class="fragment">
      Faktisk er hver kjeks begrenset til 4 kilobyte
    </p>
  </section>
  <section>
    <h2>
      Ok, la oss lage kjeksen!
    </h2>
    <p>
      Start med å skru på kjeks i Sinatra
    </p>
    <pre><code class="ruby" data-trim="">enable(:sessions)
set(:session_secret, '--__KIDSAKODER__--')</code></pre>
  </section>
  <section>
    <p>
      Følg opp med å endre post koden til dette:
    </p>
    <pre><code class="ruby" data-trim="">post '/behandle-login' do
  session[:avsender] = params[:avsender]
  redirect to("/")   
end</code></pre>
  </section>
  <section>
    <p>
      Og for å se om vår session er blitt satt kan vi endre indeks metoden
      vår slik 
    </p>
    <pre><code class="ruby" data-trim="">get '/' do
  p session
  erb :index
end</code></pre>
  </section>
  <section>
    <p>
      Kjør koden og se at vi nå holder styr på avsenderen
    </p>
    <p>
      <br>Frivillig oppgave: Lag en link for å logge ut. Det greieste er å sette
      session[:avsender] til nil
    </p>
  </section>
  <section>
    <h2>
      ERB
    </h2>
    <p>
      Det neste vi ønsker å gjøre er å endre layout slik at man får enten en
      link til pålogging, eller teksten 'Velkommen Tenderlove!'
    </p>
  </section>
  <section>
    <p>
      ERB er en måte å blande Ruby kode med HTML.
    </p>
  </section>
  <section>
    <pre><code class="html" data-trim="">&lt;% if session[:avsender] %&gt;
  Trykk &lt;a href="/ny"&gt;her&lt;/a&gt; for å skrive et nytt innlegg
&lt;% else %&gt;
  For å skrive innlegg må man være logget inn.
  Trykk &lt;a href="/login"&gt;her&lt;/a&gt; for å logge inn.
&lt;% end %&gt;</code></pre>
  </section>
  <section>
    <p>
      Erb kommer i to varianter
    </p>
    <pre><code class="html" data-trim="">&lt;% if 1 &gt; 10 %&gt;
  &lt;p&gt;Verden går under!&lt;/p&gt;
&lt;% end %&gt;</code></pre>
    <p>
      kode inne i slike bli kjørt i stillhet
    </p>
  </section>
  <section>
    <p>
      Erb kommer i to varianter
    </p>
    <pre><code class="html" data-trim="">Svaret er: &lt;%= 1000 + 1000 %&gt;</code></pre>
    <p>
      kode inne i slike skriver ut resultatet av Ruby koden
    </p>
  </section>
  <section>
    <h2>
      Oppgaver
    </h2>
    <ul>
      <li>
        lag en topptekst på startsiden som enten ber deg logge inn, eller lar deg poste nye innlegg
      </li>
      <li>
        se om du kan finne ut forskjellen på get og post
      </li>
      <li>
        lag et skjema for å skrive nye innlegg på en egen side
      </li>
      <li>
        lag en ny Sinatra metode som håndterer nye innlegg
      </li>
    </ul>
  </section>
  <section>
    <h2>
      Arbeidsdeling
    </h2>
    <p>
      Siden ERB filene allerede er ganske komplekse, forsøker vi å legge mest
      mulig kode i Ruby filen vår (kidsbook.rb)
    </p>
  </section>
  <section>
    <p>
      Vi kan sende <a href="https://github.com/variable" class="user-mention">@variable</a> fra .rb filen til .erb filen
    </p>
  </section>
  <section>
    <pre><code class="ruby" data-trim="">get '/' do
  @avsender = session[:avsender]
  erb :index
end</code></pre>
    <p>
      ...sammen med .erb filen...
    </p>
    <pre><code class="html" data-trim="">&lt;% if @avsender %&gt;
  Trykk &lt;a href="/ny"&gt;her&lt;/a&gt; for å skrive et nytt innlegg
&lt;% else %&gt;
  For å skrive innlegg må man være logget inn.
  Trykk &lt;a href="/login"&gt;her&lt;/a&gt; for å logge inn.
&lt;% end %&gt;</code></pre>
  </section>
  <section>
    <h2>
      Fler oppgaver
    </h2>
    <ul>
      <li>
        Utvid pålogging med passord og lagre passordene i en fil
      </li>
    </ul>
  </section>
</section>
<section>
  <section>
    <h1>
      Dag 5 - En ferdig kidsbook
    </h1>
  </section>
  <section>
    <p>
      <a href="https://github.com/codinghorror" class="user-mention">@codinghorror</a>: Everyone is like whee fun programming! What they don't
      tell you is that your computer is a total asshole.  
    </p>
  </section>
  <section>
    <h2>
      Egne metoder
    </h2>
    <p>
      Vi bruker metoder til å gruppere kodebiter for bedre oversikt og for å
      slippe å kopiere tekst.
    </p>
  </section>
  <section>
    <p>
      Vi definerer og bruker en metode slik:
    </p>
    <pre><code class="ruby" data-trim="">def pluss_sammen(a, b, c)
  a + b + c
end</code></pre>
<pre><code class="ruby" data-trim="">&gt; pluss_sammen(1, 2, 3)
=&gt; 6
&gt; pluss_sammen(4, 5, 6)
=&gt; 15</code></pre>
  </section>
  <section>
    <h2>
      Lagring av innleggene
    </h2>
    <p>
      Vi skal skrive en kode som skal lagre alle innleggene til fil, og lese
      de tilbake
    </p>
  </section>
  <section>
    <p>
      Det finnes mange muligheter til å lagre innleggene. Vi skal bruke en
      metode som er innebygd i Ruby. Koden for å skrive ser da omtrent slik
      ut:
    </p>
    <pre><code class="ruby" data-trim="">require 'yaml/store'
LAGRING = YAML::Store.new "lagring.yaml"
LAGRING.transaction do
  LAGRING[:mine_data] = ["her", "er", "mine", "data"]
end</code></pre>
  </section>
  <section>
    <p>
      Ved å bruke dette biblioteket slipper vi å tenke på linjeskift og
      slikt. Det vi legger inn på en nøkkel vil være det samme som vi henter
      ut
    </p>
  </section>
  <section>
    <p>
      Etter å ha kjørt koden vil dette være innholdet i filen `lagring.yaml`:
    </p>
    <pre><code class="yaml" data-trim="">---
:mine_data:
- her
- er
- mine
- data</code></pre>
  </section>
  <section>
    <p>
      Når vi skal lese tilbake innholdet kjører vi denne koden:
    </p>
    <pre><code class="ruby" data-trim="">require 'yaml/store'
LAGRING = YAML::Store.new "lagring.yaml"
LAGRING.transaction do
  LAGRING.fetch(:mine_data, "denne verdien om nøkkelen ikke fins")
end
=&gt; ["her", "er", "mine", "data"]</code></pre>
  </section>
  <section>
    <h2>
      Oppgave: lagre innleggene
    </h2>
    <p>
      Legg til posting av innlegg og lagring til fil i kidsbook.rb. For å få
      det til skal dere kikke på løsningsforslaget og kopiere over den koden
      dere trenger til ditt eget prosjekt.
    </p>
    <p>
      <a href="https://github.com/tallakt/kidsakoder_kidsbook/blob/master/kode/ferdig/kidsbook.rb">Løsningsforslag for kidsbook.rb</a>
    </p>
  </section>
  <section>
    <h2>
      Oppgave: skriv ut alle innleggene på startsiden
    </h2>
    <p>
      For å skrive ut alle innleggene, sender vi dem til erb filen fra
      kidsbook.rb via en <a href="https://github.com/variabel" class="user-mention">@variabel</a>.
    </p>
  </section>
  <section>
    <pre><code class="ruby" data-trim="">get '/' do
  @innlegg = les_alle_innlegg
  erb :index
end</code></pre>
    <p>
      ...og...
    </p>
    <pre><code class="erb" data-trim="">&lt;% @innlegg.each do |et_innlegg| %&gt;
  &lt;p class="innlegg-tekst"&gt;
  &lt;%= et_innlegg[:tekst] %&gt;
  &lt;/p&gt;
  &lt;p class="avsender"&gt;
  Hilsen: &lt;%= et_innlegg[:avsender] %&gt;
  &lt;/p&gt;
&lt;% end %&gt;</code></pre>
    <p>
      <a href="https://github.com/tallakt/kidsakoder_kidsbook/blob/master/kode/ferdig/views/index.erb">Løsningsforslag for views/index.erb</a>
    </p>
  </section>
  <section>
    <h2>
      Hva nå?
    </h2>
  </section>
  <section>
    <h2>
      Raspberry Pi
    </h2>
    <img src="http://www1.pcmag.com/media/images/351342-raspberry-pi.jpg?thumb=y">
    <ul>
      <li>
        Kan stå på hele tiden
      </li>
      <li>
        Kjører Linux og Ruby (og kidsbook.rb)
      </li>
      <li>
        Pris 400,-
      </li>
      <li>
        Kan overvåke og styre elektronikk
      </li>
    </ul>
  </section>
  <section>
    <h2>
      Andre språk
    </h2>
    <p>
      Det finnes heldigvis og beklageligvis veldig mange forskjellige
      programmeringsspråk. Jeg skal gå gjennom noen synspunkter på de
      vanligste språkene.
    </p>
    <a href="http://langpop.corger.nl/">(mer info om språk her)</a>
  </section>
  <section>
    <h2>
      C og C++
    </h2>
    <ul>
      <li>
        Raskest ytelse
      </li>
      <li>
        Tar lang tid å lære seg godt (spesielt C++)
      </li>
      <li>
        Størst utbredelse og derfor finner du alltid de bibliotekene du trenger
      </li>
      <li>
        Førstevalget for spill
      </li>
      <li>
        Programmene kan 'kræsje'
      </li>
      <li>
        Kompleks minnehåndtering
      </li>
      <li>
        Kjører på alle platformer, men separat kode for hver platform
      </li>
      <li>
        Mange mange linjer kode
      </li>
    </ul>
  </section>
  <section>
    <h2>
      Java
    </h2>
    <ul>
      <li>
        Kjører på alle platformer (Linux, OS-X, Windows) uten endring i koden
      </li>
      <li>
        Veldig utbredt, mange biblioteker
      </li>
      <li>
        Ganske lett å komme igang med
      </li>
      <li>
        Koden er litt kjedelig, og ganske mange linjer
      </li>
      <li>
        Brukeren må installere riktig Java
      </li>
      <li>
        Middels i alt
      </li>
      <li>
        Brukes på Android
      </li>
    </ul>
  </section>
  <section>
    <h2>
      C#
    </h2>
    <ul>
      <li>
        Kjører bare på Windows/Windows Phone
      </li>
      <li>
        Ligner mer på 'vanlig' Windows enn Java gjør
      </li>
      <li>
        Ganske lett å komme i gang med
      </li>
      <li>
        Godt utvalg i biblioteker
      </li>
      <li>
        Tett knyttet mot Microsoft som vil tjene penger på dette
      </li>
      <li>
        En kopi av Java for Windows
      </li>
    </ul>
  </section>
  <section>
    <h2>
      Javascript
    </h2>
    <ul>
      <li>
        Eneste språket som kjører internt i nettleseren
      </li>
      <li>
        Enkelt å lære
      </li>
      <li>
        Mange spesielle måter å løse ting på
      </li>
      <li>
        Mange ting (som f.eks. gets) er veldig vanskelig å få til
      </li>
      <li>
        Brukes mer og mer på server siden 
      </li>
      <li>
        En del suspekte designvalg som vil overraske deg
      </li>
    </ul>
  </section>
  <section>
    <h2>
      Ruby
    </h2>
    <ul>
      <li>
        Enkelt og oversiktig språk
      </li>
      <li>
        Ofrer hastighet for enkelhet
      </li>
      <li>
        Trenger ikke kompileres
      </li>
      <li>
        Språket har mange avanserte muligheter
      </li>
      <li>
        Brukes mye på server siden, spesielt web
      </li>
      <li>
        Lite støtte for å lage vanlige programmer
      </li>
      <li>
        Knyttet mest til Linux/OS-X verden
      </li>
      <li>
        Brukeren må installere Ruby
      </li>
      <li>
        Innovativt utviklermiljø
      </li>
    </ul>
  </section>
  <section>
    <h2>
      Python
    </h2>
    <ul>
      <li>
        Enkelt og oversiktig språk
      </li>
      <li>
        Ofrer hastighet for enkelhet
      </li>
      <li>
        Trenger ikke kompileres
      </li>
      <li>
        Språket har få avanserte muligheter for å holde det enkelt
      </li>
      <li>
        Noe større støtte i biblioteker enn Ruby
      </li>
      <li>
        Brukeren må installere Python
      </li>
      <li>
        Innovativt utviklermiljø
      </li>
    </ul>
  </section>
  <section>
    <h2>
      Apple Swift
    </h2>
    <ul>
      <li>
        Kun for iPhone, iPad og OS-X
      </li>
      <li>
        Ligner litt på Ruby
      </li>
      <li>
        Veldig nytt, så fremtiden er uviss
      </li>
      <li>
        Betenkelig ytelse og robusthet
      </li>
      <li>
        Vil bli bedre med tiden
      </li>
    </ul>
  </section>
  <section>
    <h2>
      Google Go
    </h2>
    <ul>
      <li>
        Ligner mest på en enklere utgave av C
      </li>
      <li>
        Man trenger ikke installere noe utover programmer du lager
      </li>
      <li>
        Bedre støtte for å kjøre ting samtidig enn C
      </li>
    </ul>
  </section>
  <section>
    <h2>
      Haskell, Erlang, Elixir, Lisp, Scala, Clojure, F#
    </h2>
    <ul>
      <li>
        Veldig avanserte språk
      </li>
      <li>
        Veldig interessante om man er opptatt av sånt
      </li>
      <li>
        Løser noen problemer veldig bra
      </li>
      <li>
        Lite brukt, men det finnes noen hederlige unntak
      </li>
      <li>
        Innovativt utviklermiljø
      </li>
    </ul>
  </section>
  <section>
    <h2>
      Slutt
    </h2>
  </section>
  <section>
    <h2>
      Oppgaver
    </h2>
    <ul>
      <li>
        Utvid kidsbook.rb med en 'Like' knapp
      </li>
      <li>
        Pålogging med passord i tillegg til navn
      </li>
      <li>
        Utveksling av innlegg mellom maskinene (kidsbook til kidsbook)
      </li>
    </ul>
  </section>
</section>
